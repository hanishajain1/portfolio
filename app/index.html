<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hanisha Jain - Product Designer</title>
    <link rel="stylesheet" href="/public/style.css">
    <link rel="preload" href="/public/image/profileBW.png" as="image">
    <link rel="preload" href="/public/image/profile.png" as="image">
</head>

<body>
    <main>
        <div class="splash" id="splash">
            <h1>Designing experiences that drive change</h1>
        </div>
        <nav class="nav">
            <button class="nav-button active">Hey !</button>
            <button class="nav-button">Who am I?</button>
            <button class="nav-button">Skills</button>
            <button class="nav-button">Work</button>
            <button class="nav-button">Contact</button>
        </nav>
        <div class="cursor-camera">
            <div class="custom-cursor" id="custom-cursor"></div>
        </div>
        <div class="fold">
            <div class="headshot">
                <h1 class="title Hanisha">HANISHA</h1>
                <div class="profile-header" id="profile-header"></div>
                <h1 class="title Jain">JAIN</h1>
            </div>
            <div class="box-bottom" id="box-bottom">
                <div class="circle-bob"></div>
                <div class="product-designer-div">
                    <h1>Product Designer</h1>
                </div>
                <div class="circle-bob"></div>
            </div>
        </div>

        <div class="section2">
        </div>
    </main>
    <script>

        // Custom cursor
        const customCursor = document.getElementById('custom-cursor');

        document.addEventListener('mousemove', (e) => {
            const cursorX = e.clientX - customCursor.offsetWidth / 2;
            const cursorY = e.clientY - customCursor.offsetHeight / 2;

            // Correct string interpolation with backticks
            customCursor.style.transform = `translate(${cursorX}px, ${cursorY}px)`;
        });

        // Preload images
        const images = [
            '/public/image/profileBW.png',
            '/public/image/profile.png',
            '/public/image/circle.png',
            '/public/image/bottom-rectangle.png'
        ];

        const preloadImages = (imageArray) => {
            imageArray.forEach((src) => {
                const img = new Image();
                img.src = src;
            });
        };

        document.addEventListener('DOMContentLoaded', () => {

            preloadImages(images);

            const nav = document.querySelector('.nav')
            const splash = document.getElementById('splash');
            const fold = document.querySelector('.fold');
            const section2 = document.querySelector('.section2')
            const titleHanisha = document.querySelector('.title');
            const titleJain = document.querySelector('.title.Jain');

            // Set a timeout for the duration of the splash animation
            setTimeout(() => {
                splash.style.display = 'none'; // Hide splash
                fold.style.display = 'block'; // Show fold
                section2.style.display = 'block';
                nav.style.display = 'flex';
                fold.classList.add('fade-in'); // Add fade-in class to fold

                // Trigger animations for titles
                titleHanisha.style.animation = 'titleHanisha 2s forwards'; // Apply animation to Hanisha title
                titleJain.style.animation = 'titleJain 2s forwards'; // Apply animation to Jain title after a delay
                titleHanisha.style.opacity = '1'; // Ensure Hanisha title is visible
                titleJain.style.opacity = '1'; // Ensure Jain title is visible

            }, 3000); // Duration must match the splash animation duration
        });

        // Select all buttons inside the navbar
        const buttons = document.querySelectorAll('.nav-button');

        // Add event listener to each button
        buttons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove 'active' class from all buttons
                buttons.forEach(btn => btn.classList.remove('active'));
                // Add 'active' class to the clicked button
                button.classList.add('active');
            });
        });

        // Mouse move effect on the profile header
        const profileHeader = document.getElementById('profile-header');
        const movementStrength = 21; // Max move distance in pixels
        const fold = document.querySelector('.fold');

        // Get the viewport width and height
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;

        // Event listener for mouse movement
        document.addEventListener('mousemove', (event) => {
            // Calculate how much the mouse has moved from the center
            const mouseX = (event.clientX / windowWidth) * 2 - 1;
            const mouseY = (event.clientY / windowHeight) * 2 - 1;

            // Move the profile image by 20px based on mouse direction
            const moveX = mouseX * movementStrength;
            const moveY = mouseY * movementStrength;

            // Apply the transform to the profile-header div
            profileHeader.style.transform = `translate(${moveX}px, ${moveY}px)`;
            profileHeader.style.transition = 'transform 0.1s ease-out'; // Smooth transition
        });

    </script>
</body>

</html>